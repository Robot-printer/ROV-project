[0.509s] Invoking command in '/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/src/ranger_auto': AMENT_PREFIX_PATH=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/install/ranger_auto:${AMENT_PREFIX_PATH} DEBUGINFOD_URLS=https://debuginfod.ubuntu.com PYTEST_ADDOPTS=--tb=short "--junit-xml=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/pytest.xml" --junit-prefix=ranger_auto -o "cache_dir=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/.pytest_cache" PYTHONDONTWRITEBYTECODE=1 PYTHONPATH=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/install/ranger_auto/lib/python3.12/site-packages:${PYTHONPATH} /usr/bin/python3 -m pytest
[1.334s] [1m============================= test session starts ==============================[0m
[1.335s] platform linux -- Python 3.12.3, pytest-7.4.4, pluggy-1.4.0
[1.341s] cachedir: /home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/.pytest_cache
[1.342s] rootdir: /home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/src/ranger_auto
[1.342s] plugins: ament-lint-0.19.2, ament-flake8-0.19.2, ament-pep257-0.19.2, ament-copyright-0.19.2, launch-testing-3.8.1, launch-testing-ros-0.28.1, ament-xmllint-0.19.2, typeguard-4.1.5, colcon-core-0.19.0, cov-4.1.0
[1.502s] [1mcollecting ... [0m[1m
[1.503s] collected 4 items                                                              [0m
[1.504s] 
[1.516s] test/test_copyright.py [33ms[0m[32m                                                 [ 25%][0m
[1.869s] test/test_flake8.py [31mF[0m[31m                                                    [ 50%][0m
[1.903s] test/test_pep257.py [32m.[0m[31m                                                    [ 75%][0m
[2.113s] test/test_xmllint.py [32m.[0m[31m                                                   [100%][0m
[2.113s] 
[2.113s] =================================== FAILURES ===================================
[2.113s] [31m[1m_________________________________ test_flake8 __________________________________[0m
[2.113s] [1m[31mtest/test_flake8.py[0m:23: in test_flake8
[2.176s]     [94massert[39;49;00m rc == [94m0[39;49;00m, \
[2.176s] [1m[31mE   AssertionError: Found 28 code style errors / warnings:[0m
[2.176s] [1m[31mE     ./ranger_auto/serial_comms.py:5:1: I100 Import statements are in the wrong order. 'from ranger_interfaces.msg import ThrusterThrottle' should be before 'from rclpy.node import Node'[0m
[2.176s] [1m[31mE     ./ranger_auto/serial_comms.py:8:1: I100 Import statements are in the wrong order. 'import re' should be before 'from sensor_msgs.msg import Imu, MagneticField, Range' and in a different group.[0m
[2.176s] [1m[31mE     ./ranger_auto/serial_comms.py:19:33: E262 inline comment should start with '# '[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:24:1: E302 expected 2 blank lines, found 1[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:32:100: E501 line too long (123 > 99 characters)[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:34:1: W293 blank line contains whitespace[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:53:1: W293 blank line contains whitespace[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:58:5: A001 variable "id" is shadowing a python builtin[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:62:1: B901 blind except: statement[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:62:5: E722 do not use bare 'except'[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:66:14: Q000 Double quotes found but single quotes preferred[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:86:9: E303 too many blank lines (2)[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:86:14: Q000 Double quotes found but single quotes preferred[0m
[2.177s] [1m[31mE     ./ranger_auto/serial_comms.py:89:38: E231 missing whitespace after ','[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:89:40: E231 missing whitespace after ','[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:105:14: Q000 Double quotes found but single quotes preferred[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:114:14: Q000 Double quotes found but single quotes preferred[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:125:1: E302 expected 2 blank lines, found 1[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:131:1: E302 expected 2 blank lines, found 1[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:131:32: E231 missing whitespace after ':'[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:132:15: Q000 Double quotes found but single quotes preferred[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:132:41: Q000 Double quotes found but single quotes preferred[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:135:1: E302 expected 2 blank lines, found 1[0m
[2.178s] [1m[31mE     ./ranger_auto/serial_comms.py:143:1: E302 expected 2 blank lines, found 1[0m
[2.179s] [1m[31mE     ./ranger_auto/serial_comms.py:147:1: E302 expected 2 blank lines, found 1[0m
[2.179s] [1m[31mE     ./ranger_auto/serial_comms.py:152:1: E302 expected 2 blank lines, found 1[0m
[2.179s] [1m[31mE     ./ranger_auto/serial_comms.py:161:1: E305 expected 2 blank lines after class or function definition, found 1[0m
[2.179s] [1m[31mE     ./ranger_auto/serial_comms.py:162:11: W292 no newline at end of file[0m
[2.179s] [1m[31mE   assert 1 == 0[0m
[2.179s] ----------------------------- Captured stdout call -----------------------------
[2.180s] 
[2.180s] ./ranger_auto/serial_comms.py:5:1: I100 Import statements are in the wrong order. 'from ranger_interfaces.msg import ThrusterThrottle' should be before 'from rclpy.node import Node'
[2.180s] from ranger_interfaces.msg import ThrusterThrottle
[2.180s] ^
[2.180s] 
[2.180s] ./ranger_auto/serial_comms.py:8:1: I100 Import statements are in the wrong order. 'import re' should be before 'from sensor_msgs.msg import Imu, MagneticField, Range' and in a different group.
[2.180s] import re
[2.180s] ^
[2.180s] 
[2.180s] ./ranger_auto/serial_comms.py:19:33: E262 inline comment should start with '# '
[2.180s] sensor_update_frequency = 5000  #Hz
[2.181s]                                 ^
[2.181s] 
[2.181s] ./ranger_auto/serial_comms.py:24:1: E302 expected 2 blank lines, found 1
[2.181s] class SerialComms(Node):
[2.181s] ^
[2.181s] 
[2.181s] ./ranger_auto/serial_comms.py:32:100: E501 line too long (123 > 99 characters)
[2.181s]         self.throttle_subscriber_ = self.create_subscription(ThrusterThrottle, 'throttle_data', throttle_data_callback, 10)
[2.181s]                                                                                                    ^
[2.181s] 
[2.181s] ./ranger_auto/serial_comms.py:34:1: W293 blank line contains whitespace
[2.181s]     
[2.182s] ^
[2.182s] 
[2.182s] ./ranger_auto/serial_comms.py:53:1: W293 blank line contains whitespace
[2.182s]     
[2.182s] ^
[2.182s] 
[2.182s] ./ranger_auto/serial_comms.py:58:5: A001 variable "id" is shadowing a python builtin
[2.182s]     id = result[1]
[2.182s]     ^
[2.182s] 
[2.182s] ./ranger_auto/serial_comms.py:62:1: B901 blind except: statement
[2.182s]     except:
[2.183s] ^
[2.183s] 
[2.183s] ./ranger_auto/serial_comms.py:62:5: E722 do not use bare 'except'
[2.183s]     except:
[2.183s]     ^
[2.183s] 
[2.183s] ./ranger_auto/serial_comms.py:66:14: Q000 Double quotes found but single quotes preferred
[2.183s]         case "ACCEL":
[2.183s]              ^
[2.183s] 
[2.183s] ./ranger_auto/serial_comms.py:86:9: E303 too many blank lines (2)
[2.184s]         case "GYRO":
[2.184s]         ^
[2.184s] 
[2.184s] ./ranger_auto/serial_comms.py:86:14: Q000 Double quotes found but single quotes preferred
[2.184s]         case "GYRO":
[2.184s]              ^
[2.184s] 
[2.184s] ./ranger_auto/serial_comms.py:89:38: E231 missing whitespace after ','
[2.184s]             if latest_accel[id] != [0,0,0]:
[2.184s]                                      ^
[2.184s] 
[2.184s] ./ranger_auto/serial_comms.py:89:40: E231 missing whitespace after ','
[2.185s]             if latest_accel[id] != [0,0,0]:
[2.185s]                                        ^
[2.185s] 
[2.185s] ./ranger_auto/serial_comms.py:105:14: Q000 Double quotes found but single quotes preferred
[2.185s]         case "MAGNET":
[2.185s]              ^
[2.185s] 
[2.185s] ./ranger_auto/serial_comms.py:114:14: Q000 Double quotes found but single quotes preferred
[2.185s]         case "USONIC":
[2.185s]              ^
[2.185s] 
[2.186s] ./ranger_auto/serial_comms.py:125:1: E302 expected 2 blank lines, found 1
[2.186s] def open_serial(comport, baudrate):
[2.186s] ^
[2.186s] 
[2.186s] ./ranger_auto/serial_comms.py:131:1: E302 expected 2 blank lines, found 1
[2.186s] def throttle_data_callback(data:ThrusterThrottle):
[2.186s] ^
[2.186s] 
[2.186s] ./ranger_auto/serial_comms.py:131:32: E231 missing whitespace after ':'
[2.186s] def throttle_data_callback(data:ThrusterThrottle):
[2.186s]                                ^
[2.187s] 
[2.187s] ./ranger_auto/serial_comms.py:132:15: Q000 Double quotes found but single quotes preferred
[2.187s]     message = "MOTOR " + str(data.id) + " " + str(data.value)
[2.187s]               ^
[2.187s] 
[2.187s] ./ranger_auto/serial_comms.py:132:41: Q000 Double quotes found but single quotes preferred
[2.187s]     message = "MOTOR " + str(data.id) + " " + str(data.value)
[2.187s]                                         ^
[2.187s] 
[2.187s] ./ranger_auto/serial_comms.py:135:1: E302 expected 2 blank lines, found 1
[2.187s] def read_serial():
[2.188s] ^
[2.188s] 
[2.188s] ./ranger_auto/serial_comms.py:143:1: E302 expected 2 blank lines, found 1
[2.189s] def write_serial(message):
[2.189s] ^
[2.189s] 
[2.189s] ./ranger_auto/serial_comms.py:147:1: E302 expected 2 blank lines, found 1
[2.189s] def close_serial():
[2.189s] ^
[2.189s] 
[2.189s] ./ranger_auto/serial_comms.py:152:1: E302 expected 2 blank lines, found 1
[2.189s] def main(args=None):
[2.189s] ^
[2.190s] 
[2.190s] ./ranger_auto/serial_comms.py:161:1: E305 expected 2 blank lines after class or function definition, found 1
[2.190s] if __name__ == '__main__':
[2.190s] ^
[2.190s] 
[2.190s] ./ranger_auto/serial_comms.py:162:11: W292 no newline at end of file
[2.190s]     main()          ^
[2.190s] 
[2.190s] 1     A001 variable "id" is shadowing a python builtin
[2.191s] 1     B901 blind except: statement
[2.191s] 3     E231 missing whitespace after ','
[2.191s] 1     E262 inline comment should start with '# '
[2.191s] 7     E302 expected 2 blank lines, found 1
[2.191s] 1     E303 too many blank lines (2)
[2.191s] 1     E305 expected 2 blank lines after class or function definition, found 1
[2.192s] 1     E501 line too long (123 > 99 characters)
[2.192s] 1     E722 do not use bare 'except'
[2.192s] 2     I100 Import statements are in the wrong order. 'from ranger_interfaces.msg import ThrusterThrottle' should be before 'from rclpy.node import Node'
[2.192s] 6     Q000 Double quotes found but single quotes preferred
[2.192s] 1     W292 no newline at end of file
[2.192s] 2     W293 blank line contains whitespace
[2.192s] 
[2.193s] 8 files checked
[2.193s] 28 errors
[2.193s] 
[2.193s] 'A'-type errors: 1
[2.193s] 'B'-type errors: 1
[2.193s] 'E'-type errors: 15
[2.193s] 'I'-type errors: 2
[2.193s] 'Q'-type errors: 6
[2.194s] 'W'-type errors: 3
[2.194s] 
[2.195s] Checked files:
[2.195s] 
[2.196s] * ./setup.py
[2.197s] * ./test/test_xmllint.py
[2.197s] * ./test/test_copyright.py
[2.197s] * ./test/test_pep257.py
[2.197s] * ./test/test_flake8.py
[2.198s] * ./ranger_auto/serial_comms.py
[2.198s] * ./ranger_auto/__init__.py
[2.198s] * ./ranger_auto/pathfinder.py
[2.198s] - generated xml file: /home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/pytest.xml -
[2.198s] [36m[1m=========================== short test summary info ============================[0m
[2.198s] [31mFAILED[0m test/test_flake8.py::[1mtest_flake8[0m - AssertionError: Found 28 code style errors / warnings:
[2.198s] [31m==================== [31m[1m1 failed[0m, [32m2 passed[0m, [33m1 skipped[0m[31m in 0.84s[0m[31m ====================[0m
[2.413s] Invoked command in '/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/src/ranger_auto' returned '1': AMENT_PREFIX_PATH=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/install/ranger_auto:${AMENT_PREFIX_PATH} DEBUGINFOD_URLS=https://debuginfod.ubuntu.com PYTEST_ADDOPTS=--tb=short "--junit-xml=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/pytest.xml" --junit-prefix=ranger_auto -o "cache_dir=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/build/ranger_auto/.pytest_cache" PYTHONDONTWRITEBYTECODE=1 PYTHONPATH=/home/ranger/ROV-project/ROV-project/Raspberry Pi/ros2-ws/install/ranger_auto/lib/python3.12/site-packages:${PYTHONPATH} /usr/bin/python3 -m pytest
